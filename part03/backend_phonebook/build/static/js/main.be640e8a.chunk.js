(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t(14),a=t.n(o),r=t(3),i=t(0),u=function(e){return Object(i.jsxs)("div",{children:["Filter Persons: ",Object(i.jsx)("input",{onChange:e.onChange})]})},s=function(e){var n=e.nom,t=e.num,c=e.persona,o=e.borrando;return Object(i.jsxs)("li",{children:[n," ",t," ",Object(i.jsx)("button",{onClick:function(){return o(c)},children:"DELETE"})]})},j=function(e){var n=e.listado,t=e.filtro,c=e.aborrar,o=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(i.jsx)("div",{children:Object(i.jsx)("ul",{children:o.map((function(e){return Object(i.jsx)(s,{nom:e.name,num:e.number,persona:e,borrando:c},e.name)}))})})},b=function(e){return Object(i.jsxs)("form",{onSubmit:e.onS,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:e.valueNombre,onChange:e.onCnombre}),Object(i.jsx)("br",{}),"number: ",Object(i.jsx)("input",{value:e.valueNumero,onChange:e.onCnumero})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"ADD"})})]})},d=function(e){return""===e.message?Object(i.jsx)("div",{children:Object(i.jsx)("p",{children:e.message})}):"ok"===e.valido?Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:"notiok",children:e.message})}):Object(i.jsx)("div",{children:Object(i.jsx)("p",{className:"notifail",children:e.message})})},l=t(4),f=t.n(l),m="/api/persons",O={getAll:function(){return f.a.get(m)},create:function(e){return f.a.post(m,e)},update:function(e,n){return f.a.put("".concat(m,"/").concat(e),n)},borrar:function(e){return f.a.delete("".concat(m,"/").concat(e))}},h=(t(38),function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],o=n[1],a=Object(c.useState)(""),s=Object(r.a)(a,2),l=s[0],f=s[1],m=Object(c.useState)(""),h=Object(r.a)(m,2),p=h[0],x=h[1],v=Object(c.useState)(""),g=Object(r.a)(v,2),N=g[0],C=g[1],k=Object(c.useState)(""),w=Object(r.a)(k,2),D=w[0],T=w[1],S=Object(c.useState)(""),A=Object(r.a)(S,2),E=A[0],F=A[1];Object(c.useEffect)((function(){O.getAll().then((function(e){o(e.data)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(d,{message:D,valido:E}),Object(i.jsx)(u,{onChange:function(e){C(e.target.value)}}),Object(i.jsx)("br",{}),Object(i.jsx)(b,{onS:function(e){e.preventDefault();var n=t.find((function(e){return e.name===l}));console.log(n);var c={name:l,number:p};void 0===n?O.create(c).then((function(e){o(t.concat(e.data)),f(""),x(""),F("ok"),T("ADDED ".concat(c.name)),setTimeout((function(){T("")}),2e3)})).catch((function(e){F("fail"),T("INFORMATION OF ".concat(c.name,": ").concat(e.response.data.error)),setTimeout((function(){T("")}),5e3)})):window.confirm("".concat(n.name," is already added to phonebook, replace the old number with a new one?"))&&O.update(n.id,c).then((function(e){var a=t.map((function(t){return t.id!==n.id?t:e.data}));o(a),f(""),x(""),F("ok"),T("UPDATED ".concat(c.name)),setTimeout((function(){T("")}),2e3)})).catch((function(e){F("fail"),T("INFORMATION OF ".concat(c.name,": ").concat(e.response.data.error)),setTimeout((function(){T("")}),5e3)}))},onCnombre:function(e){f(e.target.value)},onCnumero:function(e){x(e.target.value)},valueNombre:l,valueNumero:p}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(j,{listado:t,filtro:N,aborrar:function(e){window.confirm("Delete ".concat(e.name,"?"))&&O.borrar(e.id).then((function(n){o(t.filter((function(n){return n.id!==e.id}))),f(""),x(""),F("")})).catch((function(n){F("fail"),T("INFORMATION OF ".concat(e.name,": ").concat(n.response.data.error)),setTimeout((function(){T("")}),5e3)}))}})]})});t(39);a.a.render(Object(i.jsx)(h,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.be640e8a.chunk.js.map