{"version":3,"sources":["components/Filtro.js","components/Persona.js","components/Personas.js","components/Formulario.js","components/Notificacion.js","services/persons.js","App.js","index.js"],"names":["Filtro","props","onChange","Persona","nom","num","persona","borrando","onClick","Personas","listado","filtro","aborrar","filtrados","filter","name","toLowerCase","includes","map","tema","number","Formulario","onSubmit","onS","value","valueNombre","onCnombre","valueNumero","onCnumero","type","Notificacion","message","valido","className","baseUrl","ps","getAll","axios","get","create","newObject","post","update","id","put","borrar","delete","App","useState","persons","setPersons","newName","setNewName","newNumero","setNewNumero","newFiltro","setNewFiltro","errorMessage","setErrorMessage","mensaje","setMensaje","useEffect","personaService","then","respuesta","data","evento","target","preventDefault","foundNombre","find","element","console","log","nombreObjeto","undefined","concat","setTimeout","catch","error","response","window","confirm","cambioPersona","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be640e8a.chunk.js","sourcesContent":["//Módulo Filtro\r\n\r\nimport React from 'react'\r\n\r\nconst Filtro = (props) => {  \r\n    return (\r\n        <div>\r\n            Filter Persons: <input onChange={props.onChange}/>\r\n        </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Filtro","//Módulo Persona\r\n\r\nimport React from 'react'\r\n\r\nconst Persona = ({nom, num, persona, borrando}) => {\r\n\r\n    return (\r\n        <li>{nom} {num} <button onClick={() => borrando(persona)}>DELETE</button></li>\r\n    )\r\n}\r\n\r\n\r\nexport default Persona","//Módulo Personas\r\n\r\nimport React from 'react'\r\nimport Persona from './Persona'\r\n\r\nconst Personas = ({listado, filtro, aborrar}) => {\r\n\r\n    const filtrados = listado.filter(\r\n      persona => persona.name.toLowerCase().includes(filtro.toLowerCase())\r\n    )\r\n  \r\n    return (\r\n      <div>\r\n        <ul>\r\n          {filtrados.map(tema => <Persona key={tema.name} nom={tema.name} num={tema.number} persona={tema} borrando={aborrar}/>)}  \r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Personas","//Módulo Formulario\r\n\r\nimport React from 'react'\r\n\r\nconst Formulario = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.onS}>\r\n        <div>\r\n          name: <input value={props.valueNombre} onChange={props.onCnombre}/>\r\n          <br />\r\n          number: <input value={props.valueNumero} onChange={props.onCnumero}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">ADD</button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n\r\nexport default Formulario","//Módulo Filtro\r\n\r\nimport React from 'react'\r\n\r\nconst Notificacion = (props) => {  \r\n    if(props.message === ''){\r\n        return (\r\n            <div>\r\n                <p>{props.message}</p>\r\n            </div>\r\n        )\r\n    }else if(props.valido === 'ok'){\r\n        return (\r\n            <div>\r\n                <p className='notiok'>{props.message}</p>\r\n            </div>  \r\n        )      \r\n    }else{\r\n        return (\r\n            <div>\r\n                <p className='notifail'>{props.message}</p>\r\n            </div>  \r\n        )          \r\n    }\r\n}\r\n\r\n\r\nexport default Notificacion","import axios from 'axios'\r\n                //Ejercicio 3.9\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n//Ejercicio 3.11\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst borrar = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n  }\r\n\r\nconst ps = {getAll, create, update, borrar}\r\n\r\nexport default ps","import React, { useState, useEffect } from 'react'\r\nimport Filtro from './components/Filtro'\r\nimport Personas from './components/Personas'\r\nimport Formulario from './components/Formulario'\r\nimport Notification from './components/Notificacion'\r\nimport personaService from './services/persons'\r\n\r\n//CSS\r\nimport \"./App.css\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [newNumero, setNewNumero] = useState('')\r\n  const [newFiltro, setNewFiltro] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const [mensaje, setMensaje] = useState('')\r\n\r\n  useEffect(() => {\r\n    personaService\r\n      .getAll()\r\n      .then(respuesta => {\r\n        setPersons(respuesta.data)\r\n      })\r\n  }, [])\r\n\r\n  const handleCambioNombre = evento => {\r\n      setNewName(evento.target.value)\r\n  }\r\n\r\n  const handleCambioNumero = evento => {\r\n    setNewNumero(evento.target.value)\r\n  }\r\n\r\n  const handleFiltrarPersonas = evento => {\r\n    setNewFiltro(evento.target.value)\r\n\r\n\r\n  }\r\n\r\n  const addPersona = (evento) => {\r\n      evento.preventDefault()\r\n\r\n      const foundNombre = persons.find(element => element.name === newName)\r\n\r\n      console.log(foundNombre)\r\n\r\n      const nombreObjeto = {\r\n        name: newName,\r\n        number: newNumero\r\n      }\r\n\r\n      if(foundNombre === undefined){\r\n\r\n        personaService\r\n        .create(nombreObjeto)\r\n        .then(respuesta => {\r\n          setPersons(persons.concat(respuesta.data))\r\n          setNewName('')\r\n          setNewNumero('')\r\n          setMensaje('ok')\r\n          setErrorMessage(`ADDED ${nombreObjeto.name}`)\r\n          setTimeout(() => {\r\n            setErrorMessage('')\r\n          }, 2000)\r\n        })\r\n\r\n        .catch(error => {\r\n          setMensaje('fail')\r\n          setErrorMessage(`INFORMATION OF ${nombreObjeto.name}: ${error.response.data.error}`)\r\n          setTimeout(() => {\r\n            setErrorMessage('')\r\n          }, 5000)\r\n        })\r\n\r\n      }else{\r\n        const result = window.confirm(`${foundNombre.name} is already added to phonebook, replace the old number with a new one?`)\r\n        if(result){\r\n          personaService\r\n          .update(foundNombre.id, nombreObjeto)\r\n          .then(respuesta => {\r\n            const cambioPersona = persons.map(p =>\r\n              p.id !== foundNombre.id ? p : respuesta.data\r\n            )\r\n             setPersons(cambioPersona)\r\n             setNewName('')\r\n             setNewNumero('')\r\n             setMensaje('ok')\r\n             setErrorMessage(`UPDATED ${nombreObjeto.name}`)\r\n             setTimeout(() => {\r\n               setErrorMessage('')\r\n             }, 2000)\r\n          })   \r\n          .catch(error => {\r\n            setMensaje('fail')\r\n            setErrorMessage(`INFORMATION OF ${nombreObjeto.name}: ${error.response.data.error}`)\r\n            setTimeout(() => {\r\n              setErrorMessage('')\r\n            }, 5000)\r\n          }) \r\n        }\r\n      }\r\n   }\r\n\r\n  const borrarPersona = (persona) => {\r\n    const resultado = window.confirm(`Delete ${persona.name}?`)\r\n    if (resultado){\r\n      personaService\r\n        .borrar(persona.id)\r\n        .then((respuesta) => {\r\n          setPersons(persons.filter((p) => p.id !== persona.id))\r\n           setNewName('')\r\n          setNewNumero('')\r\n          setMensaje('')\r\n        })  \r\n        .catch(error => {\r\n          setMensaje('fail')\r\n          setErrorMessage(`INFORMATION OF ${persona.name}: ${error.response.data.error}`)\r\n          setTimeout(() => {\r\n            setErrorMessage('')\r\n          }, 5000) \r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage} valido={mensaje}/>\r\n      <Filtro onChange={handleFiltrarPersonas} />\r\n      <br />\r\n      <Formulario onS={addPersona} onCnombre={handleCambioNombre} onCnumero={handleCambioNumero} valueNombre={newName} valueNumero={newNumero}/>\r\n      <h2>Numbers</h2>\r\n      <Personas listado={persons} filtro={newFiltro} aborrar={borrarPersona}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}